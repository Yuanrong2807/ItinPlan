<template name="account">
    <section class="jumbotron loginback jumbotron-fluid">
        {{> ensureSignedIn template="accountTemplate"}}
    </section>
</template>

<template name="loginTemplate">
    <div class="d-flex justify-content-center">
    	<div class="container rounded bg-dark pt-3 pb-3">
        	{{> atForm}}
        </div>
    </div>
</template>

<!--atform-->
<!-- 	At state:
		signIn => display username and stuff
		changePwd => changepwd form					-->
<template name="accountTemplate">
    <div class="d-flex justify-content-center">
    	<div class="container rounded bg-dark pt-3 pb-3">
			{{#if detailsShow}}
				<form>
					<div class="form-group row p-1">
						<label for="username" class="col-sm-2 col-form-label">Username: </label>
						<input id="username" type="text" readonly class="form-control-plaintext col-sm-10" value={{accountUsername}}>
					</div>
					<div class="form-group row p-1">
						<label for="email" class="col-sm-2 col-form-label">Email: </label>
						<input id="email" type="text" readonly class="form-control-plaintext col-sm-10" value={{accountEmail}}>
					</div>
				</form>
			{{else}}
				{{> atForm}}
			{{/if}}
        </div>
    </div>
</template>

<!-- for navbar -->
<template name="loginNav">
    {{#if currentUser}}
        <div class="btn-group nav-item">
		  <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    {{username}}
		  </button>
		  <div class="dropdown-menu">
			<a class="dropdown-item" id="ddl-ViewDetails">View Details</a>
		    <a class="dropdown-item" id="ddl-ResetPassword">Reset Password</a>
		    <div class="dropdown-divider"></div>
		    <a class="dropdown-item" id="ddl-logout">Logout</a>
		  </div>
		</div>
    {{else}}
    	<a class="btn btn-outline-secondary nav-item" type="btn" href="/account">Login</a>
    {{/if}}
</template>